var Ht=Object.defineProperty;var At=(a,e,n)=>e in a?Ht(a,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):a[e]=n;var S=(a,e,n)=>(At(a,typeof e!="symbol"?e+"":e,n),n);function St(a){let e=a.map(function(s){return Math.min.apply(null,s)}),n=Math.min.apply(null,e);return a.find(function(s){return s.includes(n)})}function Xt(a){let e=a.map(function(s){return Math.max.apply(null,s)}),n=Math.max.apply(null,e);return a.find(function(s){return s.includes(n)})}function jt(a,e){if(a.length!==e.length)throw new Error("Vectors must have the same dimensionality");let n=0;for(let t=0;t<a.length;t++)n+=Math.pow(e[t]-a[t],2);return Math.sqrt(n)}function Tt(a,e,n,t,s){return(a-e)*(s-t)/(n-e)+t}const Pt=.5*(Math.sqrt(3)-1),rt=(3-Math.sqrt(3))/6,Rt=1/3,V=1/6,Vt=(Math.sqrt(5)-1)/4,T=(5-Math.sqrt(5))/20,x=new Float32Array([1,1,0,-1,1,0,1,-1,0,-1,-1,0,1,0,1,-1,0,1,1,0,-1,-1,0,-1,0,1,1,0,-1,1,0,1,-1,0,-1,-1]),M=new Float32Array([0,1,1,1,0,1,1,-1,0,1,-1,1,0,1,-1,-1,0,-1,1,1,0,-1,1,-1,0,-1,-1,1,0,-1,-1,-1,1,0,1,1,1,0,1,-1,1,0,-1,1,1,0,-1,-1,-1,0,1,1,-1,0,1,-1,-1,0,-1,1,-1,0,-1,-1,1,1,0,1,1,1,0,-1,1,-1,0,1,1,-1,0,-1,-1,1,0,1,-1,1,0,-1,-1,-1,0,1,-1,-1,0,-1,1,1,1,0,1,1,-1,0,1,-1,1,0,1,-1,-1,0,-1,1,1,0,-1,1,-1,0,-1,-1,1,0,-1,-1,-1,0]);class Nt{constructor(e=Math.random){S(this,"p");S(this,"perm");S(this,"permMod12");const n=typeof e=="function"?e:$t(e);this.p=Ft(n),this.perm=new Uint8Array(512),this.permMod12=new Uint8Array(512);for(let t=0;t<512;t++)this.perm[t]=this.p[t&255],this.permMod12[t]=this.perm[t]%12}noise2D(e,n){const t=this.permMod12,s=this.perm;let o=0,l=0,c=0;const h=(e+n)*Pt,i=Math.floor(e+h),y=Math.floor(n+h),E=(i+y)*rt,v=i-E,F=y-E,A=e-v,X=n-F;let j,I;A>X?(j=1,I=0):(j=0,I=1);const L=A-j+rt,H=X-I+rt,b=A-1+2*rt,u=X-1+2*rt,p=i&255,g=y&255;let d=.5-A*A-X*X;if(d>=0){const k=t[p+s[g]]*3;d*=d,o=d*d*(x[k]*A+x[k+1]*X)}let m=.5-L*L-H*H;if(m>=0){const k=t[p+j+s[g+I]]*3;m*=m,l=m*m*(x[k]*L+x[k+1]*H)}let w=.5-b*b-u*u;if(w>=0){const k=t[p+1+s[g+1]]*3;w*=w,c=w*w*(x[k]*b+x[k+1]*u)}return 70*(o+l+c)}noise3D(e,n,t){const s=this.permMod12,o=this.perm;let l,c,h,i;const y=(e+n+t)*Rt,E=Math.floor(e+y),v=Math.floor(n+y),F=Math.floor(t+y),A=(E+v+F)*V,X=E-A,j=v-A,I=F-A,L=e-X,H=n-j,b=t-I;let u,p,g,d,m,w;L>=H?H>=b?(u=1,p=0,g=0,d=1,m=1,w=0):L>=b?(u=1,p=0,g=0,d=1,m=0,w=1):(u=0,p=0,g=1,d=1,m=0,w=1):H<b?(u=0,p=0,g=1,d=0,m=1,w=1):L<b?(u=0,p=1,g=0,d=0,m=1,w=1):(u=0,p=1,g=0,d=1,m=1,w=0);const k=L-u+V,R=H-p+V,U=b-g+V,Y=L-d+2*V,Z=H-m+2*V,O=b-w+2*V,J=L-1+3*V,K=H-1+3*V,Q=b-1+3*V,z=E&255,B=v&255,q=F&255;let W=.6-L*L-H*H-b*b;if(W<0)l=0;else{const C=s[z+o[B+o[q]]]*3;W*=W,l=W*W*(x[C]*L+x[C+1]*H+x[C+2]*b)}let D=.6-k*k-R*R-U*U;if(D<0)c=0;else{const C=s[z+u+o[B+p+o[q+g]]]*3;D*=D,c=D*D*(x[C]*k+x[C+1]*R+x[C+2]*U)}let $=.6-Y*Y-Z*Z-O*O;if($<0)h=0;else{const C=s[z+d+o[B+m+o[q+w]]]*3;$*=$,h=$*$*(x[C]*Y+x[C+1]*Z+x[C+2]*O)}let G=.6-J*J-K*K-Q*Q;if(G<0)i=0;else{const C=s[z+1+o[B+1+o[q+1]]]*3;G*=G,i=G*G*(x[C]*J+x[C+1]*K+x[C+2]*Q)}return 32*(l+c+h+i)}noise4D(e,n,t,s){const o=this.perm;let l,c,h,i,y;const E=(e+n+t+s)*Vt,v=Math.floor(e+E),F=Math.floor(n+E),A=Math.floor(t+E),X=Math.floor(s+E),j=(v+F+A+X)*T,I=v-j,L=F-j,H=A-j,b=X-j,u=e-I,p=n-L,g=t-H,d=s-b;let m=0,w=0,k=0,R=0;u>p?m++:w++,u>g?m++:k++,u>d?m++:R++,p>g?w++:k++,p>d?w++:R++,g>d?k++:R++;const U=m>=3?1:0,Y=w>=3?1:0,Z=k>=3?1:0,O=R>=3?1:0,J=m>=2?1:0,K=w>=2?1:0,Q=k>=2?1:0,z=R>=2?1:0,B=m>=1?1:0,q=w>=1?1:0,W=k>=1?1:0,D=R>=1?1:0,$=u-U+T,G=p-Y+T,C=g-Z+T,dt=d-O+T,ft=u-J+2*T,ut=p-K+2*T,pt=g-Q+2*T,gt=d-z+2*T,mt=u-B+3*T,wt=p-q+3*T,Mt=g-W+3*T,kt=d-D+3*T,Ct=u-1+4*T,yt=p-1+4*T,Et=g-1+4*T,xt=d-1+4*T,_=v&255,tt=F&255,et=A&255,nt=X&255;let st=.6-u*u-p*p-g*g-d*d;if(st<0)l=0;else{const f=o[_+o[tt+o[et+o[nt]]]]%32*4;st*=st,l=st*st*(M[f]*u+M[f+1]*p+M[f+2]*g+M[f+3]*d)}let ot=.6-$*$-G*G-C*C-dt*dt;if(ot<0)c=0;else{const f=o[_+U+o[tt+Y+o[et+Z+o[nt+O]]]]%32*4;ot*=ot,c=ot*ot*(M[f]*$+M[f+1]*G+M[f+2]*C+M[f+3]*dt)}let lt=.6-ft*ft-ut*ut-pt*pt-gt*gt;if(lt<0)h=0;else{const f=o[_+J+o[tt+K+o[et+Q+o[nt+z]]]]%32*4;lt*=lt,h=lt*lt*(M[f]*ft+M[f+1]*ut+M[f+2]*pt+M[f+3]*gt)}let it=.6-mt*mt-wt*wt-Mt*Mt-kt*kt;if(it<0)i=0;else{const f=o[_+B+o[tt+q+o[et+W+o[nt+D]]]]%32*4;it*=it,i=it*it*(M[f]*mt+M[f+1]*wt+M[f+2]*Mt+M[f+3]*kt)}let at=.6-Ct*Ct-yt*yt-Et*Et-xt*xt;if(at<0)y=0;else{const f=o[_+1+o[tt+1+o[et+1+o[nt+1]]]]%32*4;at*=at,y=at*at*(M[f]*Ct+M[f+1]*yt+M[f+2]*Et+M[f+3]*xt)}return 27*(l+c+h+i+y)}}function Ft(a){const e=new Uint8Array(256);for(let n=0;n<256;n++)e[n]=n;for(let n=0;n<255;n++){const t=n+~~(a()*(256-n)),s=e[n];e[n]=e[t],e[t]=s}return e}function $t(a){let e=0,n=0,t=0,s=1;const o=Gt();return e=o(" "),n=o(" "),t=o(" "),e-=o(a),e<0&&(e+=1),n-=o(a),n<0&&(n+=1),t-=o(a),t<0&&(t+=1),function(){const l=2091639*e+s*23283064365386963e-26;return e=n,n=t,t=l-(s=l|0)}}function Gt(){let a=4022871197;return function(e){e=e.toString();for(let n=0;n<e.length;n++){a+=e.charCodeAt(n);let t=.02519603282416938*a;a=t>>>0,t-=a,t*=a,a=t>>>0,t-=a,a+=t*4294967296}return(a>>>0)*23283064365386963e-26}}const N=class N{static checkIfValidHEX(e){let t=e.replace(/[^a-fA-F0-9]/g,"").split(""),s=[];if(t.length===3)s=[t[0],t[0],t[1],t[1],t[2],t[2]];else if(t.length===6)s=t;else if(t.length===2)s=Array(6).fill(t[0]);else if(t.length===4)s=[t[0],t[0],t[1],t[1],t[2],t[2],t[3],t[3]];else throw new Error(`The color: ${e} is not a valid hexadecimal color`);return s.join("")}static hexToRGB(e){let n=e.split(""),t=[n[0],n[1]].join(""),s=[n[2],n[3]].join(""),o=[n[4],n[5]].join("");return[parseInt(t,16),parseInt(s,16),parseInt(o,16)]}static rgbToHSL([e,n,t]){e/=255,n/=255,t/=255;let s=Math.max(e,n,t),o=Math.min(e,n,t),l=0,c=0,h=(s+o)/2;if(s==o)l=c=0;else{let i=s-o;switch(c=h>.5?i/(2-s-o):i/(s+o),s){case e:l=(n-t)/i+(n<t?6:0);break;case n:l=(t-e)/i+2;break;case t:l=(e-n)/i+4;break}l/=6}return[Math.floor(l*360),Math.floor(c*100),Math.floor(h*100)]}static hslToRGB([e,n,t]){n/=100,t/=100;const s=(1-Math.abs(2*t-1))*n,o=s*(1-Math.abs(e/60%2-1)),l=t-s/2;let c=0,h=0,i=0;return 0<=e&&e<60?(c=s,h=o,i=0):60<=e&&e<120?(c=o,h=s,i=0):120<=e&&e<180?(c=0,h=s,i=o):180<=e&&e<240?(c=0,h=o,i=s):240<=e&&e<300?(c=o,h=0,i=s):300<=e&&e<360&&(c=s,h=0,i=o),c=Math.round((c+l)*255),h=Math.round((h+l)*255),i=Math.round((i+l)*255),[c,h,i]}static hslToHCL([e,n,t]){const s=(t+100)/2,l=(t<50?t:100-t)/100*n,c=e,h=(l+100)%100,i=(s+100)%100;return[Math.floor(c),Math.floor(h),Math.floor(i)]}static hclToHSL([e,n,t]){const s=e,o=(n/(1-Math.abs(2*t-1))*100+100)%100,l=(t*2-100+100)%100;return[Math.floor(s),Math.floor(o),Math.floor(l)]}static hclToHEX([e,n,t]){return N.hslToHEX(N.hclToHSL([e,n,t]))}static rgbToHEX([e,n,t]){const s=e.toString(16).length>=2?e.toString(16):"0"+e.toString(16),o=n.toString(16).length>=2?n.toString(16):"0"+n.toString(16),l=t.toString(16).length>=2?t.toString(16):"0"+t.toString(16);return s+o+l}static hslToHEX([e,n,t]){return N.rgbToHEX(N.hslToRGB([e,n,t]))}static hexToHSL(e){return N.rgbToHSL(N.hexToRGB(N.checkIfValidHEX(e)))}static getRandomColor(e,n=50,t=0){let s=[0,0,0],o=[360,100,100];e&&(e!=null&&e.from&&(s=e.from.hcl),e!=null&&e.to&&(o=e.to.hcl));let l=Math.random(),c=Math.random(),h=Math.random(),i=Tt(l,0,1,s[0],o[0]),y=Tt(c,0,1,s[1],o[1]),E=Tt(h,0,1,s[2],o[2]),v;if(v=new r(this.hclToHEX([Math.floor(i),Math.floor(y),Math.floor(E)])),e!=null&&e.palette&&!this.colorMatchPalette(v,e.palette)){if(t<=n)return this.getRandomColor(e,n,++t);throw alert("Could not find another color that match with the selected colors"),new Error("Could not find a color that match with the selected colors")}return v}static colorMatchPalette(e,n){let t=100;if(n.includes(e))return!1;for(let s of n)if(s.isLocked&&!this.colorsMatch(e,s,t))return!1;return!0}static colorsMatch(e,n,t){let s=e.hcl,o=n.hcl;return jt(s,o)<t}static rotateHue([e,n,t],s=0){const o=(e+s)%360;return[o<0?o+360:o,n,t]}static changeSaturation([e,n,t],s){let o=n;for(s?o+=s:o+=o>50?-(Math.random()*n):Math.random()*n;o>100;)o-=100;for(;o<0;)o+=100;return[e,o,t]}static changeLightness([e,n,t],s){let o=t;for(s?o+=s:100-t>50?o+=50:o-=50;o>100;)o-=100;for(;o<0;)o+=100;return[e,n,o]}static getComplementary([e,n,t]){return this.rotateHue([e,n,t],180)}static getGradientPalette(e){const t=[],s=e.hsl[2],o=[],l=[];for(let i=Math.ceil(s/10)*10;i<=100;i+=10)l.push(i);for(let i=Math.floor(s/10)*10;i>=0;i-=10)o.unshift(i);return t.push(0),o.map(i=>{t.push(i)}),t.push(e.hsl[2]),l.map(i=>{t.push(i)}),t.push(100),[...new Set(t)].map(i=>i===e.hsl[2]?e:new r(r.hslToHEX([e.hsl[0],e.hsl[1],i])))}};S(N,"simplex",new Nt(.1));let bt=N;class r extends bt{constructor(n){super();S(this,"id");S(this,"rgb");S(this,"hex");S(this,"hsl");S(this,"hcl");S(this,"locked",!1);this.hex=r.checkIfValidHEX(n);let t=Date.now().toString();this.id=this.hex+t,this.rgb=r.hexToRGB(this.hex),this.hsl=r.rgbToHSL(this.rgb),this.hcl=r.hslToHCL(this.hsl)}change(n={}){let t,{hex:s,palette:o}=n;if(s&&(t=new r(s),this.updateValuesWith(t)),!this.isLocked)if(o){let l=o.filter(c=>c.locked);if(l.length>2){let c=Math.random(),h=Math.random(),i=[],y=[],E=[];l.map(v=>{i.push(v.rgb)}),y=St(i),E=Xt(i),c<.5?h<.5?(t=r.getRandomColor({from:new r(r.rgbToHEX(E)),to:new r(r.rgbToHEX(y)),palette:l}),this.updateValuesWith(t)):(t=r.getRandomColor({from:new r(r.rgbToHEX(y)),to:new r(r.rgbToHEX(E)),palette:l}),this.updateValuesWith(t)):h<.5?(t=r.getRandomColor({from:new r(r.rgbToHEX(y)),palette:l}),this.updateValuesWith(t)):(t=r.getRandomColor({to:new r(r.rgbToHEX(E)),palette:l}),this.updateValuesWith(t))}else t=r.getRandomColor({palette:l}),this.updateValuesWith(t)}else t=r.getRandomColor(),this.updateValuesWith(t)}updateValuesWith(n){this.hex=n.hex,this.id=n.id,this.hcl=n.hcl,this.hsl=n.hsl,this.rgb=n.rgb}toggleLocked(){var n;this.locked=!this.locked,(n=document.getElementById(`lockBtn-${this.id}`))==null||n.classList.toggle("active")}get Element(){const n=`
        <div id="addColorBefore-${this.id}" role="button" class="before">
          <div class="icon-wrapper ${this.locked?"active":""}">
            <i class="fa-solid fa-plus"></i>
          </div>
        </div>
        <input type="text" id="input-${this.id}" class="title" placeholder="#${this.hex}" value="#${this.hex}">
        <div>
          <div id="lockBtn-${this.id}" role="button" class="icon-wrapper ${this.locked?"active":""}">
            <i class="fa-solid fa-lock"></i>
          </div>
          <div id="getGradient-${this.id}" role="button" class="icon-wrapper">
            <i class="fa-solid fa-palette"></i>
          </div>
          <div id="delete-${this.id}" role="button" class="icon-wrapper">
            <i class="fa-solid fa-x"></i>
          </div>
        </div>
        <div id="addColorAfter-${this.id}" role="button" class="after">
          <div class="icon-wrapper">
            <i class="fa-solid fa-plus"></i>
          </div>
        </div>
      `,t=document.createElement("div");return t.innerHTML=n,t.classList.add("color-container"),t.id=this.id,t.style.setProperty("--background-color","#"+this.hex),t.style.setProperty("--accent-color","#"+r.hslToHEX(r.changeLightness(r.rotateHue(r.changeSaturation(this.hsl))))),t}get isLocked(){return this.locked}}class It{constructor(){S(this,"palette",[]);S(this,"minColor",0);S(this,"maxColor",0);this.generateNewColor()}getPaleteArr(e){let n=[];switch(e){case 0:this.palette.map(t=>{n.push(t.rgb)});break;case 1:this.palette.map(t=>{n.push(t.hsl)});break;case 2:this.palette.map(t=>{n.push(t.hcl)});break}return n}generateNewColor(e,n=!1){let t,s=this.palette.indexOf(this.palette.filter(o=>o.id===e)[0]);return console.log("id: "+e),console.log("before "+n),s!==0&&s!==this.palette.length-1?(n?(t=r.getRandomColor({from:this.palette[s-1],to:this.palette[s],palette:this.palette}),this.insertNewColor(t,s)):(t=r.getRandomColor({from:this.palette[s],to:this.palette[s-1],palette:this.palette}),this.insertNewColor(t,s+1)),t):s===0&&s!==this.palette.length-1?(n?(t=r.getRandomColor({to:this.palette[s],palette:this.palette}),this.insertNewColor(t,s)):(t=r.getRandomColor({from:this.palette[s],palette:this.palette}),this.insertNewColor(t,s+1)),t):s!==0&&s===this.palette.length-1?(n?(t=r.getRandomColor({from:this.palette[s-1],to:this.palette[s],palette:this.palette}),this.insertNewColor(t,s)):(t=r.getRandomColor({from:this.palette[s],palette:this.palette}),this.insertNewColor(t,s+1)),t):(n?(t=r.getRandomColor({to:this.palette[s],palette:this.palette}),this.insertNewColor(t,s)):(t=r.getRandomColor({from:this.palette[s],palette:this.palette}),this.insertNewColor(t,s+1)),t)}insertNewColor(e,n){n!==void 0?this.palette.splice(n,0,e):this.palette.push(e)}removeColor(e){let n=!1;return this.palette.forEach((t,s)=>{t.id===e&&this.palette.length>1&&(this.palette.splice(s,1),n=!0)}),n}changeNonLocked(){this.palette.length>2?this.palette.map(e=>{e.change({palette:this.palette})}):this.palette.map(e=>{e.change()})}changeColor(e,n){this.palette.forEach(t=>{t.id===e&&t.change(n)})}updatePalette(e){let n=[];e.innerHTML="",this.palette.forEach(t=>{n.push(t.Element.outerHTML)}),n.map(t=>{e.innerHTML+=t})}lockColor(e){this.palette.forEach(n=>{n.id===e&&n.toggleLocked()})}getGradientFrom(e){let n=new r("#FFF"),t=[];this.palette.map(o=>{o.id===e&&(n=o)}),n&&(t=r.getGradientPalette(n));const s=document.createElement("div");return t.map(o=>{let l=document.createElement("div");l.classList.add("gradient-item"),e===o.id&&l.classList.add("current"),l.innerHTML=`<p>#${o.hex}</p>`,l.style.setProperty("--background-color","#"+o.hex),l.style.setProperty("--accent-color","#"+r.hslToHEX(r.changeLightness(o.hsl))),s.append(l)}),s.id="gradient-list",s}}const ct=document.getElementById("palette"),ht=document.getElementById("gradient"),P=new It;window.addEventListener("load",()=>{P.updatePalette(ct)});window.addEventListener("keydown",a=>{(a.key===" "||a.key==="Space")&&(a.preventDefault(),ht.classList.contains("open")||(P.changeNonLocked(),P.updatePalette(ct)))});window.addEventListener("click",a=>{Dt(a.target)});let vt;window.addEventListener("input",a=>{clearTimeout(vt),vt=setTimeout(()=>{Wt(a.target)},2e3)});function Wt(a){const[e,n]=a.id.split("-");let t;try{t=new r(a.value),P.changeColor(n,t),P.updatePalette(ct)}catch(s){alert(s)}}function Dt(a){const[e,n]=a.id.split("-");let t={addColorAfter:()=>s(n),addColorBefore:()=>s(n,!0),lockBtn:()=>P.lockColor(n),delete:()=>o(n),getGradient:()=>l(n),gradient:()=>zt()};try{t[e]()}catch(c){console.error(c)}function s(c,h){P.generateNewColor(c,h),P.updatePalette(ct)}function o(c){P.removeColor(c)&&P.updatePalette(ct)}function l(c){let h=P.getGradientFrom(c);ht.append(h),Lt()}}function Lt(){ht.classList.toggle("open")}function zt(){ht.innerHTML="",Lt()}
