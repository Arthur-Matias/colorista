var Ht=Object.defineProperty;var At=(r,e,s)=>e in r?Ht(r,e,{enumerable:!0,configurable:!0,writable:!0,value:s}):r[e]=s;var S=(r,e,s)=>(At(r,typeof e!="symbol"?e+"":e,s),s);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))t(n);new MutationObserver(n=>{for(const o of n)if(o.type==="childList")for(const l of o.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&t(l)}).observe(document,{childList:!0,subtree:!0});function s(n){const o={};return n.integrity&&(o.integrity=n.integrity),n.referrerPolicy&&(o.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?o.credentials="include":n.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function t(n){if(n.ep)return;n.ep=!0;const o=s(n);fetch(n.href,o)}})();function St(r){let e=r.map(function(n){return Math.min.apply(null,n)}),s=Math.min.apply(null,e);return r.find(function(n){return n.includes(s)})}function Xt(r){let e=r.map(function(n){return Math.max.apply(null,n)}),s=Math.max.apply(null,e);return r.find(function(n){return n.includes(s)})}function Pt(r,e){if(r.length!==e.length)throw new Error("Vectors must have the same dimensionality");let s=0;for(let t=0;t<r.length;t++)s+=Math.pow(e[t]-r[t],2);return Math.sqrt(s)}function Lt(r,e,s,t,n){return(r-e)*(n-t)/(s-e)+t}const jt=.5*(Math.sqrt(3)-1),at=(3-Math.sqrt(3))/6,Nt=1/3,R=1/6,Rt=(Math.sqrt(5)-1)/4,L=(5-Math.sqrt(5))/20,x=new Float32Array([1,1,0,-1,1,0,1,-1,0,-1,-1,0,1,0,1,-1,0,1,1,0,-1,-1,0,-1,0,1,1,0,-1,1,0,1,-1,0,-1,-1]),M=new Float32Array([0,1,1,1,0,1,1,-1,0,1,-1,1,0,1,-1,-1,0,-1,1,1,0,-1,1,-1,0,-1,-1,1,0,-1,-1,-1,1,0,1,1,1,0,1,-1,1,0,-1,1,1,0,-1,-1,-1,0,1,1,-1,0,1,-1,-1,0,-1,1,-1,0,-1,-1,1,1,0,1,1,1,0,-1,1,-1,0,1,1,-1,0,-1,-1,1,0,1,-1,1,0,-1,-1,-1,0,1,-1,-1,0,-1,1,1,1,0,1,1,-1,0,1,-1,1,0,1,-1,-1,0,-1,1,1,0,-1,1,-1,0,-1,-1,1,0,-1,-1,-1,0]);class Vt{constructor(e=Math.random){S(this,"p");S(this,"perm");S(this,"permMod12");const s=typeof e=="function"?e:It(e);this.p=Ft(s),this.perm=new Uint8Array(512),this.permMod12=new Uint8Array(512);for(let t=0;t<512;t++)this.perm[t]=this.p[t&255],this.permMod12[t]=this.perm[t]%12}noise2D(e,s){const t=this.permMod12,n=this.perm;let o=0,l=0,c=0;const h=(e+s)*jt,i=Math.floor(e+h),k=Math.floor(s+h),E=(i+k)*at,b=i-E,F=k-E,A=e-b,X=s-F;let P,G;A>X?(P=1,G=0):(P=0,G=1);const v=A-P+at,H=X-G+at,T=A-1+2*at,u=X-1+2*at,p=i&255,m=k&255;let d=.5-A*A-X*X;if(d>=0){const y=t[p+n[m]]*3;d*=d,o=d*d*(x[y]*A+x[y+1]*X)}let g=.5-v*v-H*H;if(g>=0){const y=t[p+P+n[m+G]]*3;g*=g,l=g*g*(x[y]*v+x[y+1]*H)}let w=.5-T*T-u*u;if(w>=0){const y=t[p+1+n[m+1]]*3;w*=w,c=w*w*(x[y]*T+x[y+1]*u)}return 70*(o+l+c)}noise3D(e,s,t){const n=this.permMod12,o=this.perm;let l,c,h,i;const k=(e+s+t)*Nt,E=Math.floor(e+k),b=Math.floor(s+k),F=Math.floor(t+k),A=(E+b+F)*R,X=E-A,P=b-A,G=F-A,v=e-X,H=s-P,T=t-G;let u,p,m,d,g,w;v>=H?H>=T?(u=1,p=0,m=0,d=1,g=1,w=0):v>=T?(u=1,p=0,m=0,d=1,g=0,w=1):(u=0,p=0,m=1,d=1,g=0,w=1):H<T?(u=0,p=0,m=1,d=0,g=1,w=1):v<T?(u=0,p=1,m=0,d=0,g=1,w=1):(u=0,p=1,m=0,d=1,g=1,w=0);const y=v-u+R,N=H-p+R,q=T-m+R,U=v-d+2*R,Y=H-g+2*R,Z=T-w+2*R,K=v-1+3*R,J=H-1+3*R,Q=T-1+3*R,z=E&255,B=b&255,O=F&255;let W=.6-v*v-H*H-T*T;if(W<0)l=0;else{const C=n[z+o[B+o[O]]]*3;W*=W,l=W*W*(x[C]*v+x[C+1]*H+x[C+2]*T)}let D=.6-y*y-N*N-q*q;if(D<0)c=0;else{const C=n[z+u+o[B+p+o[O+m]]]*3;D*=D,c=D*D*(x[C]*y+x[C+1]*N+x[C+2]*q)}let I=.6-U*U-Y*Y-Z*Z;if(I<0)h=0;else{const C=n[z+d+o[B+g+o[O+w]]]*3;I*=I,h=I*I*(x[C]*U+x[C+1]*Y+x[C+2]*Z)}let $=.6-K*K-J*J-Q*Q;if($<0)i=0;else{const C=n[z+1+o[B+1+o[O+1]]]*3;$*=$,i=$*$*(x[C]*K+x[C+1]*J+x[C+2]*Q)}return 32*(l+c+h+i)}noise4D(e,s,t,n){const o=this.perm;let l,c,h,i,k;const E=(e+s+t+n)*Rt,b=Math.floor(e+E),F=Math.floor(s+E),A=Math.floor(t+E),X=Math.floor(n+E),P=(b+F+A+X)*L,G=b-P,v=F-P,H=A-P,T=X-P,u=e-G,p=s-v,m=t-H,d=n-T;let g=0,w=0,y=0,N=0;u>p?g++:w++,u>m?g++:y++,u>d?g++:N++,p>m?w++:y++,p>d?w++:N++,m>d?y++:N++;const q=g>=3?1:0,U=w>=3?1:0,Y=y>=3?1:0,Z=N>=3?1:0,K=g>=2?1:0,J=w>=2?1:0,Q=y>=2?1:0,z=N>=2?1:0,B=g>=1?1:0,O=w>=1?1:0,W=y>=1?1:0,D=N>=1?1:0,I=u-q+L,$=p-U+L,C=m-Y+L,dt=d-Z+L,ft=u-K+2*L,ut=p-J+2*L,pt=m-Q+2*L,mt=d-z+2*L,gt=u-B+3*L,wt=p-O+3*L,Mt=m-W+3*L,yt=d-D+3*L,Ct=u-1+4*L,kt=p-1+4*L,Et=m-1+4*L,xt=d-1+4*L,_=b&255,tt=F&255,et=A&255,st=X&255;let nt=.6-u*u-p*p-m*m-d*d;if(nt<0)l=0;else{const f=o[_+o[tt+o[et+o[st]]]]%32*4;nt*=nt,l=nt*nt*(M[f]*u+M[f+1]*p+M[f+2]*m+M[f+3]*d)}let ot=.6-I*I-$*$-C*C-dt*dt;if(ot<0)c=0;else{const f=o[_+q+o[tt+U+o[et+Y+o[st+Z]]]]%32*4;ot*=ot,c=ot*ot*(M[f]*I+M[f+1]*$+M[f+2]*C+M[f+3]*dt)}let lt=.6-ft*ft-ut*ut-pt*pt-mt*mt;if(lt<0)h=0;else{const f=o[_+K+o[tt+J+o[et+Q+o[st+z]]]]%32*4;lt*=lt,h=lt*lt*(M[f]*ft+M[f+1]*ut+M[f+2]*pt+M[f+3]*mt)}let it=.6-gt*gt-wt*wt-Mt*Mt-yt*yt;if(it<0)i=0;else{const f=o[_+B+o[tt+O+o[et+W+o[st+D]]]]%32*4;it*=it,i=it*it*(M[f]*gt+M[f+1]*wt+M[f+2]*Mt+M[f+3]*yt)}let rt=.6-Ct*Ct-kt*kt-Et*Et-xt*xt;if(rt<0)k=0;else{const f=o[_+1+o[tt+1+o[et+1+o[st+1]]]]%32*4;rt*=rt,k=rt*rt*(M[f]*Ct+M[f+1]*kt+M[f+2]*Et+M[f+3]*xt)}return 27*(l+c+h+i+k)}}function Ft(r){const e=new Uint8Array(256);for(let s=0;s<256;s++)e[s]=s;for(let s=0;s<255;s++){const t=s+~~(r()*(256-s)),n=e[s];e[s]=e[t],e[t]=n}return e}function It(r){let e=0,s=0,t=0,n=1;const o=$t();return e=o(" "),s=o(" "),t=o(" "),e-=o(r),e<0&&(e+=1),s-=o(r),s<0&&(s+=1),t-=o(r),t<0&&(t+=1),function(){const l=2091639*e+n*23283064365386963e-26;return e=s,s=t,t=l-(n=l|0)}}function $t(){let r=4022871197;return function(e){e=e.toString();for(let s=0;s<e.length;s++){r+=e.charCodeAt(s);let t=.02519603282416938*r;r=t>>>0,t-=r,t*=r,r=t>>>0,t-=r,r+=t*4294967296}return(r>>>0)*23283064365386963e-26}}const V=class V{static checkIfValidHEX(e){let t=e.replace(/[^a-fA-F0-9]/g,"").split(""),n=[];if(t.length===3)n=[t[0],t[0],t[1],t[1],t[2],t[2]];else if(t.length===6)n=t;else if(t.length===2)n=Array(6).fill(t[0]);else if(t.length===4)n=[t[0],t[0],t[1],t[1],t[2],t[2],t[3],t[3]];else throw new Error(`The color: ${e} is not a valid hexadecimal color`);return n.join("")}static hexToRGB(e){let s=e.split(""),t=[s[0],s[1]].join(""),n=[s[2],s[3]].join(""),o=[s[4],s[5]].join("");return[parseInt(t,16),parseInt(n,16),parseInt(o,16)]}static rgbToHSL([e,s,t]){e/=255,s/=255,t/=255;let n=Math.max(e,s,t),o=Math.min(e,s,t),l=0,c=0,h=(n+o)/2;if(n==o)l=c=0;else{let i=n-o;switch(c=h>.5?i/(2-n-o):i/(n+o),n){case e:l=(s-t)/i+(s<t?6:0);break;case s:l=(t-e)/i+2;break;case t:l=(e-s)/i+4;break}l/=6}return[Math.floor(l*360),Math.floor(c*100),Math.floor(h*100)]}static hslToRGB([e,s,t]){s/=100,t/=100;const n=(1-Math.abs(2*t-1))*s,o=n*(1-Math.abs(e/60%2-1)),l=t-n/2;let c=0,h=0,i=0;return 0<=e&&e<60?(c=n,h=o,i=0):60<=e&&e<120?(c=o,h=n,i=0):120<=e&&e<180?(c=0,h=n,i=o):180<=e&&e<240?(c=0,h=o,i=n):240<=e&&e<300?(c=o,h=0,i=n):300<=e&&e<360&&(c=n,h=0,i=o),c=Math.round((c+l)*255),h=Math.round((h+l)*255),i=Math.round((i+l)*255),[c,h,i]}static hslToHCL([e,s,t]){const n=(t+100)/2,l=(t<50?t:100-t)/100*s,c=e,h=(l+100)%100,i=(n+100)%100;return[Math.floor(c),Math.floor(h),Math.floor(i)]}static hclToHSL([e,s,t]){const n=e,o=(s/(1-Math.abs(2*t-1))*100+100)%100,l=(t*2-100+100)%100;return[Math.floor(n),Math.floor(o),Math.floor(l)]}static hclToHEX([e,s,t]){return V.hslToHEX(V.hclToHSL([e,s,t]))}static rgbToHEX([e,s,t]){const n=e.toString(16).length>=2?e.toString(16):"0"+e.toString(16),o=s.toString(16).length>=2?s.toString(16):"0"+s.toString(16),l=t.toString(16).length>=2?t.toString(16):"0"+t.toString(16);return n+o+l}static hslToHEX([e,s,t]){return V.rgbToHEX(V.hslToRGB([e,s,t]))}static hexToHSL(e){return V.rgbToHSL(V.hexToRGB(V.checkIfValidHEX(e)))}static getRandomColor(e,s=50,t=0){let n=[0,0,0],o=[360,100,100];e&&(e!=null&&e.from&&(n=e.from.hcl),e!=null&&e.to&&(o=e.to.hcl));let l=Math.random(),c=Math.random(),h=Math.random(),i=Lt(l,0,1,n[0],o[0]),k=Lt(c,0,1,n[1],o[1]),E=Lt(h,0,1,n[2],o[2]),b;if(b=new a(this.hclToHEX([Math.floor(i),Math.floor(k),Math.floor(E)])),e!=null&&e.palette&&!this.colorMatchPalette(b,e.palette)){if(t<=s)return this.getRandomColor(e,s,++t);throw alert("Could not find another color that match with the selected colors"),new Error("Could not find a color that match with the selected colors")}return b}static colorMatchPalette(e,s){let t=100;if(s.includes(e))return!1;for(let n of s)if(n.isLocked&&!this.colorsMatch(e,n,t))return!1;return!0}static colorsMatch(e,s,t){let n=e.hcl,o=s.hcl;return Pt(n,o)<t}static rotateHue([e,s,t],n=0){const o=(e+n)%360;return[o<0?o+360:o,s,t]}static changeSaturation([e,s,t],n){let o=s;for(n?o+=n:o+=o>50?-(Math.random()*s):Math.random()*s;o>100;)o-=100;for(;o<0;)o+=100;return[e,o,t]}static changeLightness([e,s,t],n){let o=t;for(n?o+=n:100-t>50?o+=50:o-=50;o>100;)o-=100;for(;o<0;)o+=100;return[e,s,o]}static getComplementary([e,s,t]){return this.rotateHue([e,s,t],180)}static getGradientPalette(e){const t=[],n=e.hsl[2],o=[],l=[];for(let i=Math.ceil(n/10)*10;i<=100;i+=10)l.push(i);for(let i=Math.floor(n/10)*10;i>=0;i-=10)o.unshift(i);return t.push(0),o.map(i=>{t.push(i)}),t.push(e.hsl[2]),l.map(i=>{t.push(i)}),t.push(100),[...new Set(t)].map(i=>i===e.hsl[2]?e:new a(a.hslToHEX([e.hsl[0],e.hsl[1],i])))}};S(V,"simplex",new Vt(.1));let Tt=V;class a extends Tt{constructor(s){super();S(this,"id");S(this,"rgb");S(this,"hex");S(this,"hsl");S(this,"hcl");S(this,"locked",!1);this.hex=a.checkIfValidHEX(s);let t=Date.now().toString();this.id=this.hex+t,this.rgb=a.hexToRGB(this.hex),this.hsl=a.rgbToHSL(this.rgb),this.hcl=a.hslToHCL(this.hsl)}change(s={}){let t,{hex:n,palette:o}=s;if(n&&(t=new a(n),this.updateValuesWith(t)),!this.isLocked)if(o){let l=o.filter(c=>c.locked);if(l.length>2){let c=Math.random(),h=Math.random(),i=[],k=[],E=[];l.map(b=>{i.push(b.rgb)}),k=St(i),E=Xt(i),c<.5?h<.5?(t=a.getRandomColor({from:new a(a.rgbToHEX(E)),to:new a(a.rgbToHEX(k)),palette:l}),this.updateValuesWith(t)):(t=a.getRandomColor({from:new a(a.rgbToHEX(k)),to:new a(a.rgbToHEX(E)),palette:l}),this.updateValuesWith(t)):h<.5?(t=a.getRandomColor({from:new a(a.rgbToHEX(k)),palette:l}),this.updateValuesWith(t)):(t=a.getRandomColor({to:new a(a.rgbToHEX(E)),palette:l}),this.updateValuesWith(t))}else t=a.getRandomColor({palette:l}),this.updateValuesWith(t)}else t=a.getRandomColor(),this.updateValuesWith(t)}updateValuesWith(s){this.hex=s.hex,this.id=s.id,this.hcl=s.hcl,this.hsl=s.hsl,this.rgb=s.rgb}toggleLocked(){var s;this.locked=!this.locked,(s=document.getElementById(`lockBtn-${this.id}`))==null||s.classList.toggle("active")}get Element(){const s=`
        <div id="addColorBefore-${this.id}" role="button" class="before">
          <div class="icon-wrapper ${this.locked?"active":""}">
            <i class="fa-solid fa-plus"></i>
          </div>
        </div>
        <input type="text" id="input-${this.id}" class="title" placeholder="#${this.hex}" value="#${this.hex}">
        <div>
          <div id="lockBtn-${this.id}" role="button" class="icon-wrapper ${this.locked?"active":""}">
            <i class="fa-solid fa-lock"></i>
          </div>
          <div id="getGradient-${this.id}" role="button" class="icon-wrapper">
            <i class="fa-solid fa-palette"></i>
          </div>
          <div id="delete-${this.id}" role="button" class="icon-wrapper">
            <i class="fa-solid fa-x"></i>
          </div>
        </div>
        <div id="addColorAfter-${this.id}" role="button" class="after">
          <div class="icon-wrapper">
            <i class="fa-solid fa-plus"></i>
          </div>
        </div>
      `,t=document.createElement("div");return t.innerHTML=s,t.classList.add("color-container"),t.id=this.id,t.style.setProperty("--background-color","#"+this.hex),t.style.setProperty("--accent-color","#"+a.hslToHEX(a.changeLightness(a.rotateHue(a.changeSaturation(this.hsl))))),t}get isLocked(){return this.locked}}class Gt{constructor(){S(this,"palette",[]);S(this,"minColor",0);S(this,"maxColor",0);this.generateNewColor()}getPaleteArr(e){let s=[];switch(e){case 0:this.palette.map(t=>{s.push(t.rgb)});break;case 1:this.palette.map(t=>{s.push(t.hsl)});break;case 2:this.palette.map(t=>{s.push(t.hcl)});break}return s}generateNewColor(e,s=!1){let t,n=this.palette.indexOf(this.palette.filter(o=>o.id===e)[0]);return console.log("id: "+e),console.log("before "+s),n!==0&&n!==this.palette.length-1?(s?(t=a.getRandomColor({from:this.palette[n-1],to:this.palette[n],palette:this.palette}),this.insertNewColor(t,n)):(t=a.getRandomColor({from:this.palette[n],to:this.palette[n-1],palette:this.palette}),this.insertNewColor(t,n+1)),t):n===0&&n!==this.palette.length-1?(s?(t=a.getRandomColor({to:this.palette[n],palette:this.palette}),this.insertNewColor(t,n)):(t=a.getRandomColor({from:this.palette[n],palette:this.palette}),this.insertNewColor(t,n+1)),t):n!==0&&n===this.palette.length-1?(s?(t=a.getRandomColor({from:this.palette[n-1],to:this.palette[n],palette:this.palette}),this.insertNewColor(t,n)):(t=a.getRandomColor({from:this.palette[n],palette:this.palette}),this.insertNewColor(t,n+1)),t):(s?(t=a.getRandomColor({to:this.palette[n],palette:this.palette}),this.insertNewColor(t,n)):(t=a.getRandomColor({from:this.palette[n],palette:this.palette}),this.insertNewColor(t,n+1)),t)}insertNewColor(e,s){s!==void 0?this.palette.splice(s,0,e):this.palette.push(e)}removeColor(e){let s=!1;return this.palette.forEach((t,n)=>{t.id===e&&this.palette.length>1&&(this.palette.splice(n,1),s=!0)}),s}changeNonLocked(){this.palette.length>2?this.palette.map(e=>{e.change({palette:this.palette})}):this.palette.map(e=>{e.change()})}changeColor(e,s){this.palette.forEach(t=>{t.id===e&&t.change(s)})}updatePalette(e){let s=[];e.innerHTML="",this.palette.forEach(t=>{s.push(t.Element.outerHTML)}),s.map(t=>{e.innerHTML+=t})}lockColor(e){this.palette.forEach(s=>{s.id===e&&s.toggleLocked()})}getGradientFrom(e){let s=new a("#FFF"),t=[];this.palette.map(o=>{o.id===e&&(s=o)}),s&&(t=a.getGradientPalette(s));const n=document.createElement("div");return t.map(o=>{let l=document.createElement("div");l.classList.add("gradient-item"),e===o.id&&l.classList.add("current"),l.innerHTML=`<p>#${o.hex}</p>`,l.style.setProperty("--background-color","#"+o.hex),l.style.setProperty("--accent-color","#"+a.hslToHEX(a.changeLightness(o.hsl))),n.append(l)}),n.id="gradient-list",n}}const ct=document.getElementById("palette"),ht=document.getElementById("gradient"),j=new Gt;window.addEventListener("load",()=>{j.updatePalette(ct)});window.addEventListener("keydown",r=>{(r.key===" "||r.key==="Space")&&(r.preventDefault(),ht.classList.contains("open")||(j.changeNonLocked(),j.updatePalette(ct)))});window.addEventListener("click",r=>{Dt(r.target)});let bt;window.addEventListener("input",r=>{clearTimeout(bt),bt=setTimeout(()=>{Wt(r.target)},2e3)});function Wt(r){const[e,s]=r.id.split("-");let t;try{t=new a(r.value),j.changeColor(s,t),j.updatePalette(ct)}catch(n){alert(n)}}function Dt(r){const[e,s]=r.id.split("-");let t={addColorAfter:()=>n(s),addColorBefore:()=>n(s,!0),lockBtn:()=>j.lockColor(s),delete:()=>o(s),getGradient:()=>l(s),gradient:()=>zt()};try{t[e]()}catch(c){console.error(c)}function n(c,h){j.generateNewColor(c,h),j.updatePalette(ct)}function o(c){j.removeColor(c)&&j.updatePalette(ct)}function l(c){let h=j.getGradientFrom(c);ht.append(h),vt()}}function vt(){ht.classList.toggle("open")}function zt(){ht.innerHTML="",vt()}
